<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.*?>
<?import javafx.collections.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.chart.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>

<!-- <BorderPane xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controller.Paziente.PazienteController"
            prefWidth="800.0" prefHeight="500.0">

     TOP: barra con ComboBox e LOGOUT
    <top>
        <HBox spacing="20" alignment="CENTER_RIGHT">
            <padding>
                <Insets top="10" right="10" bottom="10" left="10"/>
            </padding>
            <HBox spacing="10" alignment="CENTER_LEFT">
                <Label text="Periodo:" />
                <ComboBox fx:id="filtroPeriodoComboBox" onAction="#aggiornaGrafico" prefWidth="150.0">
                    <items>
                        <FXCollections fx:factory="observableArrayList">
                            <String fx:value="Ultima settimana" />
                            <String fx:value="Ultimo mese" />
                        </FXCollections>
                    </items>
                </ComboBox>
            </HBox>
            <Pane HBox.hgrow="ALWAYS"/>  Spazio flessibile
            <Button text="LOGOUT" onAction="#onLogoutPressed"/>
        </HBox>
    </top>

     CENTER: grafico glicemia
    <center>
        <LineChart fx:id="lineChartGlicemia" title="Andamento Glicemia"
                   animated="false" legendVisible="false">
            <xAxis>
                <CategoryAxis label="Data"/>
            </xAxis>
            <yAxis>
                <NumberAxis label="Valore Glicemico" lowerBound="0" upperBound="250" tickUnit="50"/>
            </yAxis>
        </LineChart>
    </center>

     RIGHT: bottoni
    <right>
        <VBox spacing="15">
            <padding>
                <Insets top="20" right="20" bottom="20" left="20"/>
            </padding>
            <Button fx:id="rilevaGlicemia" text="Rileva Glicemia" onAction="#onRilevazioneGlicemiaClicked"/>
            <Button text="Aggiungi un sintomo" onAction="#onAddSymptomsClicked"/>
            <Button text="Assunzione farmaco" onAction="#onAddAssunzioneFarmacoClicked"/>
            <Button text="Sintomi, Patologie, Terapie concomitanti" onAction="#onConcomitantiClicked"/>
        </VBox>
    </right>

</BorderPane> -->

<BorderPane prefHeight="500.0" prefWidth="800.0" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.Paziente.PazienteController">

    <!-- TOP: fascia blu con immagine, Area Paziente, bottoni invisibili -->
    <top>
        <HBox fx:id="topBar" alignment="CENTER_LEFT" spacing="20" style="-fx-background-color: dodgerblue;">
            <ImageView fx:id="immagineProfilo" fitHeight="60" fitWidth="60" preserveRatio="true">
                <image>
                     <Image url="@../images/userImage.png" />
                </image>
            </ImageView>
            <Label style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;" text="Area Paziente" />
            <Pane HBox.hgrow="ALWAYS" />
            <HBox spacing="10">
                <Button onAction="#onProfiloClicked" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14px;" text="Profilo" />
                <Button onAction="#onHomepageClicked" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14px;" text="Homepage" />
                <Button onAction="#onLogoutPressed" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14px;" text="LOGOUT" />
            </HBox>
        </HBox>
    </top>

    <!-- LEFT: griglia 2x2 di bottoni + scroll -->
    <left>
        <VBox alignment="TOP_CENTER" spacing="20">
            <padding>
                <Insets bottom="20" left="10" right="10" top="20" />
            </padding>

            <!-- Griglia 2x2 -->
            <GridPane hgap="10" vgap="10">
                <Button onAction="#onRilevazioneGlicemiaClicked" text="Rileva Glicemia" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                <Button onAction="#onAddSymptomsClicked" text="Aggiungi un sintomo" GridPane.columnIndex="1" GridPane.rowIndex="0" />
                <Button onAction="#onAddAssunzioneFarmacoClicked" text="Assunzione farmaco" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                <Button onAction="#onConcomitantiClicked" text="Sintomi, Patologie, Terapie concomitanti" GridPane.columnIndex="1" GridPane.rowIndex="1" />
            <columnConstraints>
               <ColumnConstraints />
               <ColumnConstraints />
            </columnConstraints>
            <rowConstraints>
               <RowConstraints />
               <RowConstraints />
            </rowConstraints>
            </GridPane>

            <!-- ScrollPane sotto la griglia -->
            <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS">
                <TableView fx:id="contenutoScrollPane">
                    <columns>
                        <TableColumn fx:id="terapia" text="Terapia" />
                        <TableColumn fx:id="farmaco_prescritto" text="Farmaco" />
                        <TableColumn fx:id="quantita" prefWidth="58.0" text="Quantita'" />
                        <TableColumn fx:id="numero_assunzioni_giornaliere" prefWidth="129.0" text="Assunzioni giornaliere" />
                    </columns>
                </TableView>
            </ScrollPane>
        </VBox>
    </left>

    <!-- CENTER: VBox con ComboBox + grafico -->
    <center>
        <VBox alignment="TOP_CENTER" spacing="10">
            <padding>
                <Insets bottom="20" left="20" right="20" top="20" />
            </padding>

            <!-- ComboBox -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="Periodo:" />
                <ComboBox fx:id="filtroPeriodoComboBox" onAction="#aggiornaGrafico" prefWidth="150.0">
                    <items>
                        <FXCollections fx:factory="observableArrayList">
                            <String fx:value="Ultima settimana" />
                            <String fx:value="Ultimo mese" />
                        </FXCollections>
                    </items>
                </ComboBox>
            </HBox>

            <!-- Grafico -->
            <LineChart fx:id="lineChartGlicemia" animated="false" legendVisible="false" prefHeight="365.0" prefWidth="424.0" title="Andamento Glicemia" VBox.vgrow="ALWAYS">
                <xAxis>
                    <CategoryAxis label="Data" />
                </xAxis>
                <yAxis>
                    <NumberAxis label="Valore Glicemico" tickUnit="50" upperBound="250" />
                </yAxis>
            </LineChart>
        </VBox>
    </center>
</BorderPane>
