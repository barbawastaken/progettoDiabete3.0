<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="controller.Amministratore.ModificaUtenteController"
            prefHeight="700.0" prefWidth="800.0" styleClass="root">

    <top>
        <HBox fx:id="navbarContainer" />
    </top>

    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true">
            <StackPane>
                <padding>
                    <Insets top="30" bottom="30" left="30" right="30"/>
                </padding>

                <VBox spacing="25" alignment="CENTER">

                    <!-- Sezione Dati Personali -->
                    <VBox spacing="20" styleClass="box">
                        <Label text="Dati Personali" styleClass="text"/>

                        <GridPane alignment="CENTER" hgap="20" vgap="15">
                            <!-- Riga 1: Nome e Cognome -->
                            <Label text="Nome:" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="label"/>
                            <TextField fx:id="nome" promptText="Nome" GridPane.rowIndex="0" GridPane.columnIndex="1" prefWidth="150"/>
                            <Text fx:id="nomeError" text="Nome non valido" styleClass="error"
                                  GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                            <Label text="Cognome:" GridPane.rowIndex="0" GridPane.columnIndex="2" styleClass="label"/>
                            <TextField fx:id="cognome" promptText="Cognome" GridPane.rowIndex="0" GridPane.columnIndex="3" prefWidth="150"/>
                            <Text fx:id="cognomeError" text="Cognome non valido" styleClass="error"
                                  GridPane.rowIndex="1" GridPane.columnIndex="3"/>

                            <!-- Riga 2: Codice Fiscale e Sesso -->
                            <Label text="Codice Fiscale:" GridPane.rowIndex="2" GridPane.columnIndex="0" styleClass="label"/>
                            <TextField fx:id="taxCode" promptText="Codice Fiscale" GridPane.rowIndex="2" GridPane.columnIndex="1" prefWidth="150"/>
                            <Text fx:id="taxCodeError" text="Codice Fiscale non valido" styleClass="error"
                                  GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                            <Label text="Sesso:" GridPane.rowIndex="2" GridPane.columnIndex="2" styleClass="label"/>
                            <ComboBox fx:id="gender" prefWidth="150" GridPane.rowIndex="2" GridPane.columnIndex="3"/>
                            <Text fx:id="genderError" text="Inserisci il sesso" styleClass="error"
                                  GridPane.rowIndex="3" GridPane.columnIndex="3"/>

                            <!-- Riga 3: Data di Nascita -->
                            <Label text="Data di Nascita:" GridPane.rowIndex="4" GridPane.columnIndex="0" styleClass="label"/>
                            <DatePicker fx:id="birthday" promptText="Data di nascita" prefWidth="150" GridPane.rowIndex="4" GridPane.columnIndex="1"/>
                            <Text fx:id="birthdayError" text="Data di nascita non valida" styleClass="error"
                                  GridPane.rowIndex="5" GridPane.columnIndex="1"/>
                        </GridPane>
                    </VBox>

                    <!-- Sezione Sicurezza Account -->
                    <VBox spacing="20" styleClass="box">
                        <Label text="Sicurezza Account" styleClass="text"/>

                        <GridPane alignment="CENTER" hgap="20" vgap="15">
                            <Label text="Password:" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="label"/>
                            <PasswordField fx:id="password" promptText="Password" GridPane.rowIndex="0" GridPane.columnIndex="1" prefWidth="200"/>
                            <Text fx:id="passwordError" text="Password non valida" styleClass="error"
                                  GridPane.rowIndex="1" GridPane.columnIndex="1"/>
                        </GridPane>
                    </VBox>

                    <!-- Sezione Dati Sanitari - Visibile solo per pazienti -->
                    <VBox spacing="20" styleClass="box">
                        <Label text="Dati Sanitari" styleClass="text"/>

                        <GridPane alignment="CENTER" hgap="20" vgap="15">
                            <!-- Riga 1: Altezza e Peso -->
                            <Text fx:id="heightText" text="Altezza (m):" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="testo"/>
                            <TextField fx:id="height" promptText="Altezza in metri" GridPane.rowIndex="0" GridPane.columnIndex="1" prefWidth="120"/>
                            <Text fx:id="heightError" text="Altezza non valida" styleClass="error"
                                  GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                            <Text fx:id="weightText" text="Peso (kg):" GridPane.rowIndex="0" GridPane.columnIndex="2" styleClass="testo"/>
                            <TextField fx:id="weight" promptText="Peso in kg" GridPane.rowIndex="0" GridPane.columnIndex="3" prefWidth="120"/>
                            <Text fx:id="weightError" text="Peso non valido" styleClass="error"
                                  GridPane.rowIndex="1" GridPane.columnIndex="3"/>

                            <!-- Riga 2: Medico Curante -->
                            <Text fx:id="medicoCuranteText" text="Medico Curante:" GridPane.rowIndex="2" GridPane.columnIndex="0" styleClass="testo"/>
                            <ComboBox fx:id="medicoCurante" prefWidth="200" GridPane.rowIndex="2" GridPane.columnIndex="1"/>
                        </GridPane>
                    </VBox>

                    <!-- Sezione Indirizzo -->
                    <VBox spacing="20" styleClass="box">
                        <Label text="Informazioni di Residenza" styleClass="text"/>

                        <GridPane alignment="CENTER" hgap="20" vgap="15">
                            <!-- Riga 1: Indirizzo e CAP -->
                            <Label text="Indirizzo:" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="label"/>
                            <TextField fx:id="address" promptText="Via/Piazza" GridPane.rowIndex="0" GridPane.columnIndex="1" prefWidth="200"/>
                            <Text fx:id="addressError" text="Indirizzo non valido" styleClass="error"
                                  GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                            <Label text="CAP:" GridPane.rowIndex="0" GridPane.columnIndex="2" styleClass="label"/>
                            <TextField fx:id="cap" promptText="CAP" GridPane.rowIndex="0" GridPane.columnIndex="3" prefWidth="100"/>
                            <Text fx:id="capError" text="CAP non valido" styleClass="error"
                                  GridPane.rowIndex="1" GridPane.columnIndex="3"/>

                            <!-- Riga 2: Civico e Nazione -->
                            <Label text="Civico:" GridPane.rowIndex="2" GridPane.columnIndex="0" styleClass="label"/>
                            <TextField fx:id="number" promptText="N. civico" GridPane.rowIndex="2" GridPane.columnIndex="1" prefWidth="80"/>
                            <Text fx:id="numberError" text="Numero civico non valido" styleClass="error"
                                  GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                            <Label text="Nazione:" GridPane.rowIndex="2" GridPane.columnIndex="2" styleClass="label"/>
                            <TextField fx:id="nation" promptText="Nazione" GridPane.rowIndex="2" GridPane.columnIndex="3" prefWidth="150"/>
                            <Text fx:id="nationError" text="Nazionalità non valida" styleClass="error"
                                  GridPane.rowIndex="3" GridPane.columnIndex="3"/>

                            <!-- Riga 3: Città -->
                            <Label text="Città:" GridPane.rowIndex="4" GridPane.columnIndex="0" styleClass="label"/>
                            <TextField fx:id="citta" promptText="Città" GridPane.rowIndex="4" GridPane.columnIndex="1" prefWidth="150"/>
                            <Text fx:id="cityError" text="Città non valida" styleClass="error"
                                  GridPane.rowIndex="5" GridPane.columnIndex="1"/>
                        </GridPane>
                    </VBox>

                    <!-- Sezione Contatti -->
                    <VBox spacing="20" styleClass="box">
                        <Label text="Dati di Contatto" styleClass="text"/>

                        <GridPane alignment="CENTER" hgap="20" vgap="15">
                            <Label text="Email:" GridPane.rowIndex="0" GridPane.columnIndex="0" styleClass="label"/>
                            <TextField fx:id="email" promptText="indirizzo@email.com" GridPane.rowIndex="0" GridPane.columnIndex="1"
                                       styleClass="email" prefWidth="250"/>
                            <Text fx:id="emailError" text="Email non valida" styleClass="error"
                                  GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                            <Label text="Telefono:" GridPane.rowIndex="2" GridPane.columnIndex="0" styleClass="label"/>
                            <TextField fx:id="telephone" promptText="+39 123 456 7890" GridPane.rowIndex="2" GridPane.columnIndex="1"
                                       prefWidth="200"/>
                            <Text fx:id="telephoneError" text="Numero di telefono non valido" styleClass="error"
                                  GridPane.rowIndex="3" GridPane.columnIndex="1"/>
                        </GridPane>
                    </VBox>

                    <!-- Sezione Azioni -->
                    <HBox spacing="20" alignment="CENTER" style="-fx-padding: 15;">
                        <Button text="Reset" onAction="#resetButtonPressed" styleClass="button" prefWidth="120"/>
                        <Button text="Aggiorna Utente" onAction="#onSendButtonPressed" styleClass="button" prefWidth="150"/>
                    </HBox>

                    <Text fx:id="userAddedText" text="Dati inseriti correttamente!" style="-fx-fill: #28a745; -fx-font-size: 14px; -fx-font-weight: bold;"/>

                </VBox>
            </StackPane>
        </ScrollPane>
    </center>

</BorderPane>